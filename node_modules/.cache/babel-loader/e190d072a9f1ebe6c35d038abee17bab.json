{"ast":null,"code":"var _jsxFileName = \"/Users/chak05/TFL/src/components/search/search.jsx\";\nimport PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\nimport './search.scss';\n\nclass Search extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChange = () => {\n      let arr = Array.from(this.props.lastSearchTerms);\n      this.setState({\n        searchVal: this.search.value\n      });\n\n      if (!this.search.value) {\n        return;\n      }\n\n      if (!this.props.lastSearchTerms.includes(this.search.value)) {\n        arr.push(this.search.value);\n        this.props.searchRoutes(this.search.value, arr);\n      } else {\n        this.props.cachedRoutes(this.search.value);\n      }\n    };\n\n    this.state = {\n      searchVal: ''\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"searchArea\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }, \"Search Routes \", React.createElement(\"input\", {\n      placeholder: \"Search for routes...\",\n      ref: input => this.search = input,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34\n      },\n      __self: this\n    }))), !Boolean(this.props.isLoaded) && React.createElement(Loader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"searchResults\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, Boolean(this.search && this.props.isLoaded && !this.props.routes.length) && React.createElement(\"div\", {\n      className: \"noResult\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, \"No bike points found for '\".concat(this.search.value, \"'\")), React.createElement(\"div\", {\n      className: \"results\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, Boolean(this.state.searchVal && this.props.routes.length) && this.props.routes.map(route => {\n      const item = \"\".concat(route.id.split('_')[1], \" \").concat(route.commonName, \" (\").concat(route.lat, \", \").concat(route.lon, \")\");\n      return React.createElement(\"li\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, item);\n    })))));\n  }\n\n}\n\nSearch.displayName = 'Search';\nSearch.propTypes = {\n  apiFault: PropTypes.shape({}),\n  cachedRoutes: PropTypes.func,\n  isLoaded: PropTypes.bool,\n  routes: PropTypes.arrayOf(PropTypes.shape({})),\n  searchRoutes: PropTypes.func,\n  lastSearchTerms: PropTypes.arrayOf(PropTypes.string)\n};\nexport default Search;","map":{"version":3,"sources":["/Users/chak05/TFL/src/components/search/search.jsx"],"names":["PropTypes","React","Component","Loader","Search","constructor","props","handleChange","arr","Array","from","lastSearchTerms","setState","searchVal","search","value","includes","push","searchRoutes","cachedRoutes","state","render","input","Boolean","isLoaded","routes","length","map","route","item","id","split","commonName","lat","lon","displayName","propTypes","apiFault","shape","func","bool","arrayOf","string"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport Loader from 'react-loader-spinner';\nimport './search.scss';\n\nclass Search extends Component {\n\n  constructor(props){\n    super(props);\n    this.state ={\n      searchVal: ''\n    }\n  }\n handleChange = () => {\n  let arr = Array.from(this.props.lastSearchTerms); \n  this.setState({searchVal: this.search.value});\n  if(!this.search.value){\n    return;\n  }\n  if(!this.props.lastSearchTerms.includes(this.search.value)){\n    arr.push(this.search.value);\n    this.props.searchRoutes(this.search.value, arr);\n  }\n  else{\n    this.props.cachedRoutes(this.search.value);\n  }\n }\n\n render() {\n   return (\n     <div className=\"searchArea\">\n        <div>\n            <form>\n            Search Routes <input\n                placeholder=\"Search for routes...\"\n                ref={input => this.search = input}\n                onChange={this.handleChange}\n            />\n            </form>\n        </div>\n        {!Boolean(this.props.isLoaded) && <Loader/>}\n        <div className=\"searchResults\">\n        {Boolean(this.search && this.props.isLoaded && !this.props.routes.length) &&<div className=\"noResult\">{`No bike points found for '${this.search.value}'`}</div>}\n          <div className=\"results\">\n            <ul>\n              {Boolean(this.state.searchVal && this.props.routes.length) && this.props.routes.map((route) => {\n                const item = `${route.id.split('_')[1]} ${route.commonName} (${route.lat}, ${route.lon})`;\n                return (                \n                <li>{item}</li>\n              );\n              })}\n            </ul>\n          </div>\n        </div>\n     </div>\n   )\n }\n\n}\n\nSearch.displayName = 'Search';\nSearch.propTypes = {\n  apiFault: PropTypes.shape({}),\n  cachedRoutes: PropTypes.func,\n  isLoaded: PropTypes.bool,\n  routes: PropTypes.arrayOf(PropTypes.shape({})),\n  searchRoutes: PropTypes.func,\n  lastSearchTerms: PropTypes.arrayOf(PropTypes.string)\n\n}\n\nexport default Search"]},"metadata":{},"sourceType":"module"}